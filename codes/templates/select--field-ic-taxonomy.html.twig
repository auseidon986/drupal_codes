{#
/**
 * @file
 * Default theme implementation for a select element.
 *
 * Available variables:
 * - attributes: HTML attributes for the <select> tag.
 * - options: The <option> element children.
 *
 * @see template_preprocess_select()
 *
 * @ingroup themeable
 */
#}

{% apply spaceless %}
  <div class="field-ic-taxonomy-wrapper">
    {% for option in options %}
      {% if option.type == 'optgroup' %}
        <div class="field-ic-taxonomy-group">
          <label class="form-item__label field-ic-taxonomy-group__title">{{ option.label }}</label>
          <div class="layout--grid--2cols field-ic-taxonomy-group__inner">
            {% for sub_option in option.options %}
              <div class="field-ic-taxonomy-group__item js-form-item form-item js-form-type-checkbox form-type--checkbox form-type--boolean js-form-item-field-ic-taxonomy-{{ sub_option.value }} form-item--field-ic-taxonomy-{{ sub_option.value }}">
                <input
                  data-drupal-selector="edit-field-ic-taxonomy-{{ sub_option.value }}"
                  id="edit-field-ic-taxonomy-{{ sub_option.value }}"
                  name="{{ attributes.name }}"
                  type="{{ attributes.multiple == 'multiple' ? 'checkbox' : 'radio' }}"
                  value="{{ sub_option.value }}"
                  class="form-checkbox form-boolean form-boolean--type-checkbox"
                  {{ sub_option.selected ? ' checked' }}
                >
                <label for="edit-field-ic-taxonomy-{{ sub_option.value }}" class="form-item__label option">{{ sub_option.label }}</label>
              </div>
            {% endfor %}
          </div>
        </div>
      {% elseif option.type == 'option' %}
        {# Hide this one because this is [- None -] option #}
        {#
        <label>
          <input type="{{ attributes.multiple == 'multiple' ? 'checkbox' : 'radio' }}" name="{{ attributes.name }}" value="{{ option.value }}"{{ option.selected ? ' checked' }}>
          <span class="item-label">{{ option.label }}</span>
        </label>
        #}
      {% endif %}
    {% endfor %}
  </div>
{% endapply %}
